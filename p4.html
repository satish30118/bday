<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy Birthday!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0; padding: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(120deg, #ffdde1 0%, #ee9ca7 100%);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
      text-align: center;
    }
    .sparkle-bg {
      pointer-events: none;
      position: fixed;
      top:0; left:0;
      width: 100vw; height: 100vh;
      z-index: 1;
      opacity:0.35;
    }
    .glass {
      background: rgba(255,255,255,0.55);
      box-shadow: 0 8px 38px #ff8fb377;
      border-radius: 32px;
      backdrop-filter: blur(12px);
      padding: 30px 16px 30px 16px;
      max-width: 600px;
      margin: 64px auto 32px auto;
      position: relative;
      z-index: 3;
    }
    #mainContent { display: none; }
    #intro {
      min-height:100vh;
      display:flex;flex-direction:column;justify-content:center;align-items:center;
      background: linear-gradient(120deg, #ffdde1 0%, #ee9ca7 100%);
      z-index: 5;
      position: relative;
    }
    .btn-hero {
      padding: 20px 52px;
      border: none;
      border-radius: 36px;
      font-size: 2em;
      background: linear-gradient(90deg,#ff4b8e, #ffd6e8 90%);
      color: white;
      font-weight:700;
      cursor: pointer;
      margin-top:24px;
      box-shadow: 0 12px 28px #f6c5da63;
      transition: 0.3s, box-shadow 0.5s;
      animation: pulse 1.8s infinite;
    }
    .btn-hero:hover { transform: scale(1.07);}
    @keyframes pulse { 
      0% { box-shadow: 0 0 8px #ff4b8e; } 
      50% { box-shadow: 0 0 22px #ff4b8e; }
      100% { box-shadow: 0 0 8px #ff4b8e; }
    }
    .greet-big {
      font-size: 2em;
      font-weight:800;
      letter-spacing: 2px;
      margin-bottom: 10px;
      color: #ff4b8e;
      text-shadow: 0 2px 38px #fff2;
      opacity: 0;
      transform: scale(0.95);
      animation: showup 1.5s 0.2s forwards;
    }
    @keyframes showup {
      to { opacity:1; transform: scale(1);}
    }
    .typewriter {
      min-height: 2.1em;
      font-size: 1.27em;
      color: #ea159d;
      font-weight: 500;
      margin: 28px 0 18px 0;
      white-space: pre-line;
      display: inline-block;
      letter-spacing:0.5px;
      background: unset;
    }
    /* Slideshow styles */
    .slideshow-glass {
      background: rgba(253,239,255,0.91);
      border-radius: 25px;
      box-shadow: 0 2px 20px #fff2;
      max-width: 410px;margin:22px auto 16px;
      position:relative; z-index:9;
      padding:14px 0 3px;
    }
    .slide-img {
      width: 98%;
      max-width:400px;
      border-radius:19px;
      margin:0 auto;
      box-shadow: 0 3px 22px #ee9ca788;
      display: none;
      transition: opacity 0.7s;
    }
    .slide-img.active { display: block; opacity:1;}
    .slide-thumbs {
      display: flex; justify-content: center; margin: 7px 0 0 0;
      gap:8px;
    }
    .slide-thumb {
      width:54px; height:42px;
      border-radius:8px;
      box-shadow: 0 1px 7px #bbaef277;
      object-fit: cover;
      opacity: 0.62;
      transition:opacity 0.2s;
      border:2.5px solid transparent;
      cursor: pointer;
    }
    .slide-thumb.active { opacity:1; border-color:#ee9ca7;}
    /* Petals */
    .petal {
      position: fixed;
      top: -50px;
      z-index: 11;
      font-size: 22px;
      pointer-events:none;
      opacity: 0.8;
      animation: fall linear infinite;
    }
    @keyframes fall {
      0% { transform: translateY(0) rotate(0deg) scale(0.85);}
      92% { opacity: 1;}
      100% { transform: translateY(110vh) rotate(322deg) scale(1.18); opacity: 0; }
    }
    /* Friends‚Äô Wishes */
    .friends { margin: 38px auto 0; max-width:600px;}
    .friend-msg {
      background: rgba(255,255,255,0.94);
      margin: 13px auto;
      padding: 21px 18px 13px;
      border-radius: 17px;
      box-shadow: 0 3px 13px #cb93b633;
      font-size: 1.16em;
      color: #bb298b;
      opacity:0; transform:translateY(20px); transition:opacity .9s, transform .6s;
      max-width: 480px;
    }
    .friend-msg.active { opacity:1; transform:translateY(0);}
    /* Floating Music Control */
    .music-btn {
      position: fixed;
      right: 16px; bottom: 17px;
      z-index:99;
      background: linear-gradient(135deg,#ffdde1 40%,#ee9ca7 100%);
      border-radius:50%;
      box-shadow:0 1px 13px #fbcff644;
      width:64px; height:64px;
      border:none;
      display:flex;align-items:center;justify-content:center;
      cursor:pointer;
      transition: background 0.2s;
    }
    .music-btn svg { width: 38px;height:38px;fill:#c81a7b;}
    .music-btn:hover { background:#ff4b8e;}
    @media (max-width:700px) {
      .glass,.friends { max-width:95vw; }
      .greet-big { font-size: 2em;}
      .slide-img { max-width:95vw;}
    }
  </style>
</head>
<body>

<!-- Sparkles BG SVG -->
<svg class="sparkle-bg">
  <circle cx="9%" cy="22%" r="35" fill="#ffdde1" opacity="0.45"/>
  <circle cx="23%" cy="93%" r="25" fill="#fff8c6" opacity="0.45"/>
  <circle cx="72%" cy="48%" r="48" fill="#ffd6e8" opacity="0.41"/>
  <circle cx="94%" cy="10%" r="30" fill="#ffdde1" opacity="0.35"/>
  <circle cx="71%" cy="92%" r="20" fill="#ffdde1" opacity="0.52"/>
  <circle cx="15%" cy="65%" r="14" fill="#fff8c6" opacity="0.37"/>
</svg>

<!-- Intro -->
<div id="intro">
  <button class="btn-hero" onclick="revealSurprise()">Open Your Birthday Surprise! üéÅ</button>
</div>

<!-- Main content -->
<div id="mainContent">
  <div class="glass">
    <div class="greet-big">üå∏ Happy Birthday, Ilin! üéâ</div>
    <div class="typewriter" id="typedNote"></div>
    <!-- Slideshow -->
    <div class="slideshow-glass">
      <img class="slide-img active" src="img.jpg" alt="Memory 1">
      <img class="slide-img" src="IMG20250802112217.jpg" alt="Memory 2">
      <img class="slide-img" src="IMG20250802112229.jpg" alt="Memory 3">
      <div class="slide-thumbs">
        <img class="slide-thumb active" src="img.jpg" onclick="goToSlide(0)">
        <img class="slide-thumb" src="IMG20250802112217.jpg" onclick="goToSlide(1)">
        <img class="slide-thumb" src="IMG20250802112229.jpg" onclick="goToSlide(2)">
      </div>
    </div>
  </div>
  
</div>

<!-- Petals -->
<!-- Music controls -->
<button class="music-btn" id="musicBtn" onclick="toggleMusic()" title="Play/Pause music" style="display:none;">
  <svg viewBox="0 0 64 64">
    <g id="iconPlay"><polygon points="16,8 56,32 16,56"></polygon></g>
    <g id="iconPause" style="display:none;">
      <rect x="18" y="12" width="10" height="40" rx="4"></rect>
      <rect x="36" y="12" width="10" height="40" rx="4"></rect>
    </g>
  </svg>
</button>
<audio id="music" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>
<audio id="celebrateSfx" src="music.mp3" preload="auto"></audio>

<!-- Confetti js -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
<script>
  // Reveal intro/surprise
  function revealSurprise() {
    document.getElementById("intro").style.display = "none";
    document.getElementById("mainContent").style.display = "block";
    document.getElementById("musicBtn").style.display = "flex";
    // Confetti + SFX
    confetti({particleCount: 180, spread: 130, origin:{y:0.65}});
    document.getElementById('celebrateSfx').play();
    setTimeout(()=>confetti({particleCount: 100, spread: 80, origin:{y:0.7}}), 900);
    setTimeout(startPetals,200);
    startTypewriter();
    showFriendMsgs();
  }
  // Petals
  const petals = ['üå∏','üåº','üíÆ','üå∫','ü•Ä'];
  function startPetals(){
    setInterval(()=>{
      let p = document.createElement('div');
      p.className='petal';
      p.innerText = petals[ Math.floor(Math.random()*petals.length)];
      p.style.left = Math.random()*96 + "vw";
      p.style.fontSize = (18+Math.random()*26)+"px";
      p.style.animationDuration = (5+Math.random()*5) + "s";
      document.body.appendChild(p);
      setTimeout(()=>p.remove(),10500);
    }, 60);
  }
  // Typewriter effect for note
  let note = "Dear Ilin, ‚ú®\nwe wish you endless happiness, success, and all the love in the world. You‚Äôre not just our best friend, you‚Äôre family. May this year bring you everything you dream of and more. Always keep smiling and shining like you do! üíñü•≥ üåàüíï\n - Satish and Aakash";
  function startTypewriter() {
    let i = 0, tw = document.getElementById('typedNote');
    tw.innerHTML = '';
    function type() {
      tw.innerHTML = note.slice(0,i).replace(/\n/g,"<br>");
      if(i<note.length){ i++; setTimeout(type,33);}
    }
    type();
  }

  // Fancy slideshow
  let slideNow=0;
  let slideImgs,slideThumbs;
  function goToSlide(idx){
    slideNow=idx;
    updateSlides();
  }
  function updateSlides(){
    slideImgs = document.getElementsByClassName('slide-img');
    slideThumbs = document.getElementsByClassName('slide-thumb');
    for(let i=0;i<slideImgs.length;i++){
      slideImgs[i].classList.remove('active');
      slideThumbs[i].classList.remove('active');
    }
    slideImgs[slideNow].classList.add('active');
    slideThumbs[slideNow].classList.add('active');
  }
  function autoNextSlide(){
    slideNow = (slideNow+1) % (document.getElementsByClassName('slide-img').length);
    updateSlides();
    setTimeout(autoNextSlide, 2850);
  }
  setTimeout(autoNextSlide, 3300);

  // Friends‚Äô wishes appear one after another
  function showFriendMsgs(){
    let msgs = document.querySelectorAll('.friend-msg');
    msgs.forEach(m => m.classList.remove('active'));
    let i=0;
    function show(){
      msgs[i].classList.add('active');
      i++;
      if(i<msgs.length) setTimeout(show, 1200);
    }
    show();
  }

  // Fancy music play/pause button
  let musicPlay = false;
  function toggleMusic() {
    let music = document.getElementById("music");
    let btn = document.getElementById("musicBtn");
    let playIcon = btn.querySelector("#iconPlay"), pauseIcon = btn.querySelector("#iconPause");
    if(music.paused) {
      music.play();
      playIcon.style.display="none";
      pauseIcon.style.display="";
      musicPlay = true;
    } else {
      music.pause();
      playIcon.style.display="";
      pauseIcon.style.display="none";
      musicPlay = false;
    }
  }
  // Set correct icon at start
  window.onload = () => {
    updateSlides();
    let btn = document.getElementById("musicBtn");
    let playIcon = btn.querySelector("#iconPlay"), pauseIcon = btn.querySelector("#iconPause");
    playIcon.style.display="";
    pauseIcon.style.display="none";
  };
</script>
</body>
</html>
